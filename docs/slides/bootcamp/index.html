<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Sirota Lab ‚Äî Progressive, Reproducible Workflow Bootcamp</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/theme/black.css" id="theme" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/monokai.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js-copycode@1.3.2/plugin/copycode/copycode.css" />
  <style>
    .footnote{position:absolute;bottom:10px;right:20px;font-size:.55em;opacity:.7}
    .reveal h1,.reveal h2{letter-spacing:.5px}
    .reveal section img{border-radius:8px}
    .reveal pre code{font-size:.9em}
  </style>
</head>
<body>
  <div class="reveal"><div class="slides">
    <section data-markdown
             data-separator="^\n---\n$"
             data-separator-vertical="^\n--\n$"
             data-separator-notes="^Note:"
             data-charset="utf-8">
      <textarea data-template>
# üß© Lab Reproducible Workflow Tutorial

_(BIDS ‚Üí DataLad ‚Üí Snakemake ‚Üí Integration {{SLIDES_MD}} FAIR)_  
Sirota Lab Meeting ‚Äî Progressive, reproducible-workflow bootcamp

---

## Why Reproducible Workflows?

- Increasing complexity of neuroimaging analysis
    
- Challenges: sharing, version drift, reruns
    
- Solution: FAIR + modular workflow
    
    - **BIDS**: structure
        
    - **DataLad**: control
        
    - **Snakemake**: automation
        
    - **Integration**: provenance {{SLIDES_MD}} sharing
        

---

## A. BIDS ‚Äî Standardized Data Organization

**Goal:** Learn BIDS {{SLIDES_MD}} immediately apply it.

**Theory**

- Why BIDS; structure {{SLIDES_MD}} metadata
    
- `sub-*/ses-*`, `dataset_description.json`, sidecars
    

**Practice**

- Convert example dataset to BIDS
    
- Validate with BIDS Validator
    
- Add metadata (`TaskName`, `Manufacturer`, ‚Ä¶)
    

Note:  
Talk through motivation; show folder tree; link to validator.

--

### BIDS Folder Skeleton

```text
project/
‚îî‚îÄ sub-01/
   ‚îî‚îÄ anat/
      ‚îú‚îÄ sub-01_T1w.nii.gz
      ‚îî‚îÄ sub-01_T1w.json
dataset_description.json
```

---

## üß© Your Turn ‚Äî BIDS

> üí° **Hands-on Practice**

- Download a small sample dataset (or use OpenNeuro example).
    
- Organize it into BIDS format (`sub-01/anat/...`).
    
- Run the [BIDS Validator](https://bids-standard.github.io/bids-validator/).
    
- Fix any filename or metadata issues you encounter.
    

üïê _Take 10 minutes to complete these steps._

---

## B. DataLad ‚Äî Version Control for Data

**Goal:** manage, track, share datasets.

**Concepts**

- Git + git-annex, datasets, subdatasets, RIA, provenance
    

**Practice**

```bash
datalad create my_dataset
echo "hello" > my_dataset/hello.txt
datalad save -m "add hello"
```

Note:  
Explain `datalad create`, `save`, `get`, `push`.

--

### Add as subdataset {{SLIDES_MD}} push

```bash
datalad create -d . my_dataset
datalad save -m "added dataset"
datalad push --to origin
```

---

## üß© Your Turn ‚Äî DataLad

> üí° **Hands-on Practice**

- Run `datalad create test_ds`.
    
- Add and save a small file (`echo "test" > file.txt`).
    
- Explore commands:
    
    - `datalad status`
        
    - `datalad get`
        
    - `datalad push`
        
- Inspect `.git/annex` to see how large files are tracked.
    

üïê _5 minutes ‚Äî experiment and share one useful command!_

---

## C. Snakemake ‚Äî Reproducible Pipelines

**Goal:** define {{SLIDES_MD}} run pipelines on BIDS data.

**Practice**

```python
# Snakefile
rule all:
    input: "derivatives/dummy-png/out.png"

rule calc:
    output: "derivatives/dummy-py/out.txt"
    shell: "python code/calc.py > {output}"

rule plot:
    input: "derivatives/dummy-py/out.txt"
    output: "derivatives/dummy-png/out.png"
    shell: "python code/plot.py {input} {output}"
```

Note:  
Then run `snakemake --cores 2`; show DAG {{SLIDES_MD}} report.

--

### Visualize {{SLIDES_MD}} Report

```bash
snakemake --dag | dot -Tpng > dag.png
snakemake --report report.html
```

---

## üß© Your Turn ‚Äî Snakemake

> üí° **Hands-on Practice**

- Copy or create the sample `Snakefile`.
    
- Run the workflow:
    
    ```bash
    snakemake --cores 2
    ```
    
- Add a new rule that writes today‚Äôs date to a file.
    
- Generate a DAG image and open the `report.html`.
    

üïê _10 minutes ‚Äî make your workflow produce something new!_

---

## D. Integration {{SLIDES_MD}} FAIR

- Reproducibility ‚Ä¢ Adaptability ‚Ä¢ Transparency
    
- Package the pipeline; run with provenance
    

```bash
datalad run "snakemake --cores 2"
datalad save -m "run workflow with provenance"
datalad push
```

---

## üß© Your Turn ‚Äî Integration

> üí° **Hands-on Practice**

- Clone or create a DataLad dataset.
    
- Add your `Snakefile` to the project.
    
- Run your workflow with provenance tracking:
    
    ```bash
    datalad run "snakemake --cores 2"
    ```
    
- View recorded provenance:
    
    ```bash
    datalad run-record show
    ```
    

üïê _5‚Äì10 minutes ‚Äî confirm your provenance record works._

---

### FAIR Checklist

- **Findable**: DOI / registered repository
    
- **Accessible**: DataLad + open protocols
    
- **Interoperable**: BIDS format
    
- **Reusable**: Metadata + provenance (Snakemake + DataLad)
    

---

‚úÖ _End of Tutorial ‚Äî Discussion {{SLIDES_MD}} Q{{SLIDES_MD}}A_

- What worked smoothly?
    
- What would help you apply this to your own data?
    
- How can we support reproducibility in the lab‚Äôs shared workflows?
    

---
      </textarea>
    </section>
  </div></div>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/markdown/markdown.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/notes/notes.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/highlight.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js-copycode@1.3.2/plugin/copycode/copycode.js"></script>
  <script>
    Reveal.initialize({
      hash: true,
      slideNumber: true,
      navigationMode: 'linear',
      width: 1280, height: 720, margin: 0.04,
      pdfSeparateFragments: false, pdfMaxPagesPerSlide: 1,
      transition: 'slide', backgroundTransition: 'fade',
      copycode: { button: "hover", display: "icons", timeout: 1200 },
      plugins: [ RevealMarkdown, RevealNotes, RevealHighlight, CopyCode ]
    });
  </script>
</body>
</html>
